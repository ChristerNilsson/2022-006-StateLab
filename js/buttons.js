// Generated by CoffeeScript 2.5.1
var Button, ColorButton, DeadButton, EditButton, ImageButton, RotateButton;

Button = class Button {
  constructor(text1, x1, y1, w1, h1, bg1 = 'white', fg1 = 'black') {
    this.text = text1;
    this.x = x1;
    this.y = y1;
    this.w = w1;
    this.h = h1;
    this.bg = bg1;
    this.fg = fg1;
  }

  draw(disabled) {
    if (disabled) {
      fill('lightgray');
    } else {
      fill(this.bg);
    }
    rect(this.x, this.y, this.w, this.h);
    textSize(0.04 * diag);
    fill(this.fg);
    return text(this.text, this.x, this.y);
  }

  inside() {
    var ref, ref1;
    return (-this.w / 2 <= (ref = mouseX - this.x) && ref <= this.w / 2) && (-this.h / 2 <= (ref1 = mouseY - this.y) && ref1 <= this.h / 2);
  }

};

ImageButton = class ImageButton {
  constructor(image1, x1, y1, w1, h1) {
    this.image = image1;
    this.x = x1;
    this.y = y1;
    this.w = w1;
    this.h = h1;
  }

  draw() {
    if (this.image) {
      return image(this.image, (width - this.w) / 2, (height - this.h) / 2, this.w, this.h);
    }
  }

  inside() {
    var ref, ref1;
    return (-this.w / 2 <= (ref = mouseX - this.x) && ref <= this.w / 2) && (-this.h / 2 <= (ref1 = mouseY - this.y) && ref1 <= this.h / 2);
  }

};

RotateButton = class RotateButton extends Button {
  constructor(x, y, w, h, degrees, bg, fg, player) {
    super('', x, y, w, h, bg, fg);
    this.degrees = degrees;
    this.player = player;
  }

  draw() {
    var h, m, s, secs, ss;
    secs = states.Editor.clocks[this.player];
    if (secs === 0) {
      fill('gray');
    }
    [h, m, s] = hms(Math.trunc(secs));
    ss = h >= 1 ? d2(h) + ':' + d2(m) : d2(m) + ':' + d2(s);
    fill(this.bg);
    rect(this.x, this.y, this.w, this.h);
    push();
    translate(this.x, this.y);
    rotate(this.degrees);
    textSize(0.18 * diag);
    fill(this.fg);
    text(ss, 0, 0.017 * height);
    textSize(0.05 * diag);
    text('+' + round3(states.Editor.bonuses[this.player]) + 's', 0, 0.15 * height);
    if (timeout[this.player]) {
      text('Out of time', 0, -0.15 * height);
    }
    return pop();
  }

};

EditButton = class EditButton extends Button {
  constructor(text, x, y, w, h, fg = 'gray') {
    super(text, x, y, w, h, 'black', fg);
  }

  draw() {
    textSize(0.05 * diag);
    fill(this.fg);
    return text(this.text, this.x, this.y);
  }

};

DeadButton = class DeadButton extends Button {
  constructor(text, x, y, fg = 'lightgray') {
    super(text, x, y, 0, 0, 'black', fg);
  }

  draw() {
    textSize(0.04 * diag);
    fill(this.fg);
    return text(this.text, this.x, this.y);
  }

};

ColorButton = class ColorButton extends Button {
  constructor(fg1, x, y) {
    super('', x, y, 0, 0);
    this.fg = fg1;
  }

  draw() {
    push();
    textAlign(CENTER, CENTER);
    textSize(0.04 * diag);
    fill(this.fg);
    text(this.text, this.x, this.y);
    return pop();
  }

};

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYnV0dG9ucy5qcyIsInNvdXJjZVJvb3QiOiIuLiIsInNvdXJjZXMiOlsiY29mZmVlXFxidXR0b25zLmNvZmZlZSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUEsSUFBQSxNQUFBLEVBQUEsV0FBQSxFQUFBLFVBQUEsRUFBQSxVQUFBLEVBQUEsV0FBQSxFQUFBOztBQUFNLFNBQU4sTUFBQSxPQUFBO0VBQ0MsV0FBYyxNQUFBLElBQUEsSUFBQSxJQUFBLElBQUEsUUFBdUIsT0FBdkIsUUFBbUMsT0FBbkMsQ0FBQTtJQUFDLElBQUMsQ0FBQTtJQUFLLElBQUMsQ0FBQTtJQUFFLElBQUMsQ0FBQTtJQUFFLElBQUMsQ0FBQTtJQUFFLElBQUMsQ0FBQTtJQUFFLElBQUMsQ0FBQTtJQUFXLElBQUMsQ0FBQTtFQUFoQzs7RUFDZCxJQUFPLENBQUMsUUFBRCxDQUFBO0lBQ04sSUFBRyxRQUFIO01BQWlCLElBQUEsQ0FBSyxXQUFMLEVBQWpCO0tBQUEsTUFBQTtNQUF1QyxJQUFBLENBQUssSUFBQyxDQUFBLEVBQU4sRUFBdkM7O0lBQ0EsSUFBQSxDQUFLLElBQUMsQ0FBQSxDQUFOLEVBQVEsSUFBQyxDQUFBLENBQVQsRUFBVyxJQUFDLENBQUEsQ0FBWixFQUFjLElBQUMsQ0FBQSxDQUFmO0lBQ0EsUUFBQSxDQUFTLElBQUEsR0FBSyxJQUFkO0lBQ0EsSUFBQSxDQUFLLElBQUMsQ0FBQSxFQUFOO1dBQ0EsSUFBQSxDQUFLLElBQUMsQ0FBQSxJQUFOLEVBQVcsSUFBQyxDQUFBLENBQVosRUFBYyxJQUFDLENBQUEsQ0FBZjtFQUxNOztFQU1QLE1BQVMsQ0FBQSxDQUFBO0FBQUUsUUFBQSxHQUFBLEVBQUE7V0FBQyxDQUFBLENBQUMsSUFBQyxDQUFBLENBQUYsR0FBSSxDQUFKLFdBQVMsTUFBQSxHQUFPLElBQUMsQ0FBQSxFQUFqQixPQUFBLElBQXNCLElBQUMsQ0FBQSxDQUFELEdBQUcsQ0FBekIsQ0FBQSxJQUErQixDQUFBLENBQUMsSUFBQyxDQUFBLENBQUYsR0FBSSxD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LEVBQU8sQ0FBUCxDQUFBOztJQUFDLElBQUMsQ0FBQTtFQUFGOztFQUVkLElBQU8sQ0FBQSxDQUFBO0lBQ04sSUFBQSxDQUFBO0lBQ0EsU0FBQSxDQUFVLE1BQVYsRUFBaUIsTUFBakI7SUFDQSxRQUFBLENBQVMsSUFBQSxHQUFLLElBQWQ7SUFDQSxJQUFBLENBQUssSUFBQyxDQUFBLEVBQU47SUFDQSxJQUFBLENBQUssSUFBQyxDQUFBLElBQU4sRUFBVyxJQUFDLENBQUEsQ0FBWixFQUFjLElBQUMsQ0FBQSxDQUFmO1dBQ0EsR0FBQSxDQUFBO0VBTk07O0FBSFIiLCJzb3VyY2VzQ29udGVudCI6WyJjbGFzcyBCdXR0b25cclxuXHRjb25zdHJ1Y3RvciA6IChAdGV4dCxAeCxAeSxAdyxAaCxAYmc9J3doaXRlJyxAZmc9J2JsYWNrJykgLT5cclxuXHRkcmF3IDogKGRpc2FibGVkKSAtPlxyXG5cdFx0aWYgZGlzYWJsZWQgdGhlbiBmaWxsICdsaWdodGdyYXknIGVsc2UgZmlsbCBAYmdcclxuXHRcdHJlY3QgQHgsQHksQHcsQGhcclxuXHRcdHRleHRTaXplIDAuMDQqZGlhZ1xyXG5cdFx0ZmlsbCBAZmdcclxuXHRcdHRleHQgQHRleHQsQHgsQHlcclxuXHRpbnNpZGUgOiAtPiAtQHcvMiA8PSBtb3VzZVgtQHggPD0gQHcvMiBhbmQgLUBoLzIgPD0gbW91c2VZLUB5IDw9IEBoLzJcclxuXHJcbmNsYXNzIEltYWdlQnV0dG9uXHJcblx0Y29uc3RydWN0b3IgOiAoQGltYWdlLEB4LEB5LEB3LEBoKSAtPlxyXG5cdGRyYXcgOiAgLT5cclxuXHRcdGlmIEBpbWFnZSB0aGVuIGltYWdlIEBpbWFnZSwod2lkdGgtQHcpLzIsKGhlaWdodC1AaCkvMixAdyxAaFxyXG5cdGluc2lkZSA6IC0+IC1Ady8yIDw9IG1vdXNlWC1AeCA8PSBAdy8yIGFuZCAtQGgvMiA8PSBtb3VzZVktQHkgPD0gQGgvMlxyXG5cclxuY2xhc3MgUm90YXRlQnV0dG9uIGV4dGVuZHMgQnV0dG9uXHJcblx0Y29uc3RydWN0b3IgOiAoeCx5LHcsaCxAZGVncmVlcyxiZyxmZyxAcGxheWVyKSAtPlxyXG5cdFx0c3VwZXIgJycseCx5LHcsaCxiZyxmZ1xyXG5cclxuXHRkcmF3IDogLT5cclxuXHRcdHNlY3MgPSBzdGF0ZXMuRWRpdG9yLmNsb2Nrc1tAcGxheWVyXVxyXG5cdFx0aWYgc2VjcyA9PSAwIHRoZW4gZmlsbCAnZ3JheSdcclxuXHRcdFtoLG0sc10gPSBobXMgTWF0aC50cnVuYyBzZWNzXHJcblx0XHRzcyA9IGlmIGggPj0gMSB0aGVuIGQyKGgpICsgJzonICsgZDIobSkgZWxzZSBkMihtKSArICc6JyArIGQyKHMpXHJcblxyXG5cdFx0ZmlsbCBAYmdcclxuXHRcdHJlY3QgQHgsQHksQHcsQGhcclxuXHJcblx0XHRwdXNoKClcclxuXHRcdHRyYW5zbGF0ZSBAeCxAeVxyXG5cdFx0cm90YXRlIEBkZWdyZWVzXHJcblx0XHR0ZXh0U2l6ZSAwLjE4KmRpYWdcclxuXHRcdGZpbGwgQGZnXHJcblx0XHR0ZXh0IHNzLDAsMC4wMTcqaGVpZ2h0XHJcblx0XHR0ZXh0U2l6ZSAwLjA1KmRpYWdcclxuXHRcdHRleHQgJysnICsgcm91bmQzKHN0YXRlcy5FZGl0b3IuYm9udXNlc1tAcGxheWVyXSkrJ3MnLDAsMC4xNSpoZWlnaHRcclxuXHRcdGlmIHRpbWVvdXRbQHBsYXllcl0gdGhlbiB0ZXh0ICdPdXQgb2YgdGltZScsMCwtMC4xNSpoZWlnaHRcclxuXHRcdHBvcCgpXHJcblxyXG5jbGFzcyBFZGl0QnV0dG9uIGV4dGVuZHMgQnV0dG9uXHJcblx0Y29uc3RydWN0b3IgOiAodGV4dCx4LHksdyxoLGZnPSdncmF5JykgLT5cclxuXHRcdHN1cGVyIHRleHQseCx5LHcsaCwnYmxhY2snLGZnXHJcblx0ZHJhdyA6IC0+XHJcblx0XHR0ZXh0U2l6ZSAwLjA1KmRpYWdcclxuXHRcdGZpbGwgQGZnXHJcblx0XHR0ZXh0IEB0ZXh0LEB4LEB5XHJcblxyXG5jbGFzcyBEZWFkQnV0dG9uIGV4dGVuZHMgQnV0dG9uXHJcblx0Y29uc3RydWN0b3IgOiAodGV4dCx4LHksZmc9J2xpZ2h0Z3JheScpIC0+XHJcblx0XHRzdXBlciB0ZXh0LHgseSwwLDAsJ2JsYWNrJyxmZ1xyXG5cdGRyYXcgOiAtPlxyXG5cdFx0dGV4dFNpemUgMC4wNCpkaWFnXHJcblx0XHRmaWxsIEBmZ1xyXG5cdFx0dGV4dCBAdGV4dCxAeCxAeVxyXG5cclxuY2xhc3MgQ29sb3JCdXR0b24gZXh0ZW5kcyBCdXR0b25cclxuXHRjb25zdHJ1Y3RvciA6IChAZmcseCx5KSAtPlxyXG5cdFx0c3VwZXIgJycseCx5LDAsMFxyXG5cdGRyYXcgOiAtPlxyXG5cdFx0cHVzaCgpXHJcblx0XHR0ZXh0QWxpZ24gQ0VOVEVSLENFTlRFUlxyXG5cdFx0dGV4dFNpemUgMC4wNCpkaWFnXHJcblx0XHRmaWxsIEBmZ1xyXG5cdFx0dGV4dCBAdGV4dCxAeCxAeVxyXG5cdFx0cG9wKClcclxuIl19
//# sourceURL=c:\github\2022-006-StateLab\coffee\buttons.coffee